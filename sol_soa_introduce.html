<!DOCTYPE HTML>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="x-ua-compatible" content="IE=Edge" />
    <title>滴雨科技_超融合平台_第三代物联网平台</title>
    <link href="content-images/dew_html.png" rel="SHORTCUT ICON" />
    <meta name="keywords" content="DIYU,diyu, YUDI,yudi,雨滴,雨滴科技,滴雨,滴雨科技,滴雨软件,滴雨公司,边缘计算,web 3.0,Dew,dew,Dew Technology,云计算，超融合,物联网,人工智能,云存储,云服务,区块链,分布式记账,docker云,容器云,K8S,微服务,cloud technology,internet of things, Cloud Storage, storage, software, cloud fusion, artificial intelligent, AI, cloud computing,blcokchain, hyperfledge,Micro Service,Kubernetes 8" />
    <meta name="description" content="提供一体化的第三代区块链，微服务平台K8S，云计算，云存储，大数据，灾备技术，物联网给中小企业，避免一个企业无法维护多套不同体系统的系统，或是去租用多套云端服务，以达到节省成本的目的。滴雨公司提供的所有软件是一键安装，图形化管理，不管规模大小，全部免费。" />
    <link rel="stylesheet" type="text/css" href="css/foot.css" />
    <link rel="stylesheet" type="text/css" href="css/_style.css" />
    <link rel="stylesheet" type="text/css" href="css/_mobile.css" />
    <link rel="stylesheet" type="text/css" href="css/primary-blue-grey.css" />
    <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="js/custom-main.js"></script>
    <!--[if lt IE 9]>
    <link rel="stylesheet" href="css/IE.css" />
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lte IE 8]>
    <script type="text/javascript" src="js/IE.js"></script>
    <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
<body>

<!-- START Top-Toolbar -->
<script type="text/javascript" src="js/Top-Toolbar.js"></script>
<!-- END Top-Toolbar -->

<!-- START Header -->
<script type="text/javascript" src="js/Header.js"></script>
<!-- END Header -->


<section id="content-container" class="clearfix">
    <div id="main-wrap" class="clearfix">
        <aside class="subnav_cont sidebar">
            <div class="subnav">
                <ul>
                    <li  class="current_subpage"><a href="sol_soa_introduce.html">Microservices</a></li>
                    <li><a href="sol_soa_api.html">银行API网关</a></li>
                    <li><a href="sol_soa_devops.html">devops</a></li>
                </ul>
            </div>
            <!-- END subnav -->
        </aside>
        <!-- END sidebar -->

        <div class="page_content_right sub-content">

            <div class="large-callout">
                <p class="TitleFont1">微服务生态</p>

                <h5>什么是微服务</h5>
                <p><img alt="" src="content-images/svc_soa_intr_0.jpg" title="什么是微服务"/></p>
                <p>
                    <ul>
                        <li>微服务是一种架构风格</li>
                        <li>一系列微小的服务共同组成</li>
                        <li>跑在自己的进程里</li>
                        <li>每个服务为独立的业务开发</li>
                        <li>独立部署</li>
                        <li>独立数据</li>
                        <li>服务间可以是不同语言</li>
                    </ul>
                </p>

                <h5>微服务的特征</h5>
                <p>
                    <ul>
                        <li>单一职责</li>
                        <li>轻量级通讯</li>
                        <li>隔离性</li>
                        <li>有自己的数据</li>
                        <li>技术多样性</li>
                    </ul>
                </p>

                <br>
                <h5>SpringCloud核心组件</h5>
                <p><img width="670" height="321" alt="" src="content-images/svc_soa_intr_1.jpg" title="SpringCloud核心组件"/></p>
                <p>
                    <ul>
                        <li>Eureka(注册中心)</li>
                        <li>hystrix(断路器)</li>
                        <li>Gateway(服务网关)</li>
                        <li>OpenFeign(负载均衡)</li>
                        <li>Config(配置中心)</li>
                        <li>sleuth(链路追踪)</li>
                    </ul>
                </p>

                <br>
                <h5>Eureka(注册中心)</h5>
                <p>在分布式系统里，必须要有一个角色对所有微服务的状态、地址、及实例数进行集中管理和收集，并能定期的监控所有微服务的状态，这就是Eureka，能提供服务注册和注册中心功能</p>
                <p>两个组件组成</p>
                <ul>
                    <li>Eureka Server 注册中心</li>
                    <li>Eureka Client 服务注册</li>
                </ul>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_eureka.webp" title="eureka"/></p>


                <br>
                <h5> OpenFeign(负载均衡)</h5>
                <p>OpenFeign是SpringCloud微服务套件中的一部分，提供负责均衡、容错、异步和多协议(HTTP,TCP,UDP)支持、缓存、批处理，申明式编程. </p>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_openFeign.webp" title="OpenFeign"/></p>

                <h5> Hystrix(断路器)</h5>
                <p>在一个分布式系统里，许多依赖不可避免的会调用失败，比如超时、异常等，如何能够保证在一个依赖出问题的情况下，不会导致整体服务失败，这个就是Hystrix需要做的事情。Hystrix提供了熔断、隔离、Fallback、cache、监控等功能，能够在一个、或多个依赖同时出现问题时保证系统依然可用。</p>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_Hystrix.webp" title="OpenFeign"/></p>
                <p>熔断</p>
                <p>当Hystrix Command请求后端服务失败数量超过一定比例(默认50%), 断路器会切换到开路状态(Open). 这时所有请求会直接失败而不会发送到后端服务.</p>
                <p>断路器保持在开路状态一段时间后(默认5秒), 自动切换到半开路状态(HALF-OPEN). 这时会判断下一次请求的返回情况,如果请求成功, 断路器切回闭路状态(CLOSED), 否则重新切换到开路状态(OPEN).</p>
                <p>Hystrix的断路器就像我们家庭电路中的保险丝, 一旦后端服务不可用, 断路器会直接切断请求链, 避免发送大量无效请求影响系统吞吐量, 并且断路器有自我检测并恢复的能力.</p>
                <p>隔离</p>
                <p>在Hystrix中, 主要通过线程池来实现资源隔离. 通常在使用的时候我们会根据调用的远程服务划分出多个线程池.</p>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_Hystrix2.webp" title="OpenFeign"/></p>
                <p>Fallback</p>
                <p>Fallback相当于是降级操作. 对于查询操作, 我们可以实现一个fallback方法, 当请求后端服务出现异常的时候, 可以使用fallback方法返回的值. fallback方法的返回值一般是设置的默认值或者来自缓存.告知后面的请求服务不可用了，不要再来了。</p>
                <p>cahce</p>
                <p>比如一个请求过来请求我userId=1的数据，你后面的请求也过来请求同样的数据，这时我不会继续走原来的那条请求链路了，而是把第一次请求缓存过了，把第一次的请求结果返回给后面的请求。</p>
                <p>监控</p>
                <p>HyStrix自身提供了监控系统，可以对接口状态进行监控，但是实时性的，没有持久化存储，我们后期是可以用第三方系统监控数据的采集与报警</p>

                <br>
                <h5>Gateway(服务网关)</h5>
                <p>API网关可以提供一个单独且统一的API入口用于访问内部一个或多个API。简单来说嘛就是一个统一入口，比如现在的支付宝或者微信的相关api服务一样，都有一个统一的api地址，统一的请求参数，统一的鉴权。</p>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_gateway.webp" title="Gateway"/></p>

                <p>Gateway的核心一系列的过滤器：</p>
                <ul>
                    <li>身份认证与安全：识别每个资源的验证要求，并拒绝那些与要求不符的请求。</li>
                    <li>审查与监控：在边缘位置追踪有意义的数据和统计结果，从而带来精确的生产视图。</li>
                    <li>动态路由：动态地将请求路由到不同的后端集群。</li>
                    <li>压力测试：逐渐增加指向集群的流量，以了解性能。</li>
                    <li>负载分配：为每一种负载类型分配对应容量，并启用超出限定值的请求。</li>
                    <li>静态响应处理：在边缘位置直接建立部分相应，从而避免其转发到内部集群。</li>
                </ul>

                <br>
                <h5>Config(配置中心)</h5>
                <p>在分布式系统中，由于服务数量巨多，为了方便服务配置文件统一管理，实时更新，所以需要分布式配置中心组件。</p>
                <ul>
                    <li>核心功能</li>
                    <li>提供服务端和客户端支持</li>
                    <li>集中管理各环境的配置文件</li>
                    <li>配置文件修改之后，可以快速的生效</li>
                    <li>可以进行版本管理</li>
                    <li>支持大的并发查询</li>
                    <li>支持各种语言</li>
                </ul>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_config.webp" title="Config"/></p>

                <br>
                <h5>Sleuth</h5>
                <p>Spring Cloud Sleuth 为服务之间调用提供链路追踪。通过 Sleuth 可以很清楚的了解到一个服务请求经过了哪些服务，每个服务处理花费了多长。从而让我们可以很方便的理清各微服务间的调用关系。此外 Sleuth 可以帮助我们耗时分析: 通过Sleuth可以很方便的了解到每个采样请求的耗时，从而分析出哪些服务调用比较耗时; 可视化错误: 对于程序未捕捉的异常，可以通过集成 Zipkin 服务界面上看到; 链路优化: 对于调用比较频繁的服务，可以针对这些服务实施一些优化措施。 Spring Cloud Sleuth 可以结合 Zipkin，将信息发送到 Zipkin，利用 Zipkin 的存储来存储信息，利用 Zipkin UI 来展示数据。<br>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_sleuth.jpg" title="sleuth"/></p>
                <p><img height="320" alt="" src="content-images/svc_soa_intr_zipkin.jpg" title="zipkin"/></p>
            </div>
            <!-- END large-callout -->
        </div>
        <!-- END page_content-->

    </div>
    <!-- END main-wrap -->
</section>
<!-- END content-container -->


<!-- START Footer Callout -->
<script type="text/javascript" src="js/footer-callout.js"></script>
<!-- END Footer Callout -->

<!-- START Footer -->
<script type="text/javascript" src="js/footer.js"></script>
<!-- END Footer -->


</body>
</html>
